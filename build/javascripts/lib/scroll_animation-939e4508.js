!function(){var t=[].slice;this.ScrollAnimation=function(){function e(t){var e;this.el=t.el,this.animation=t.animation,this.reset=t.reset,e=t.offset,this.offset=e||function(){return 0},e=this.offset(h),this.resize(h),this.state=i}var n,i,s,r,o,a,h;return h=window.innerHeight,s=null,r=null,a=function(){var t,n,i,o,a;if(n=document.documentElement.scrollTop||document.body.scrollTop,n!==r){for(a=e.animations,i=0,o=a.length;o>i;i++)t=a[i],null!=t&&t.animate(n,h,s);return r=n}},o=function(){return requestAnimationFrame(o),a()},e.animations=[],e.register=function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],n[0]instanceof e?this.animations.push(n[0]):void 0},e.remove=function(t){var e;return e=this.animations.indexOf(t),0>e?null:this.animations.splice(e,1)},e.start=function(){return e.refresh(),$(window).on("resize",e.refresh),Modernizr.touch&&(document.addEventListener("touchstart",a),document.addEventListener("touchmove",a),document.addEventListener("touchend",a)),o()},e.refresh=function(){var t,n,i,o;for(h=window.innerHeight,s=$(document).height(),r=0,o=e.animations,n=0,i=o.length;i>n;n++)t=o[n],t.resize();return this},i=0,n=1,e.prototype.resize=function(t){var e;return e=$(this.el).offset().top,this.start=e+this.offset(t),this.height=this.el.offsetHeight,this.end=this.height+this.start},e.prototype.animate=function(t,e){return this.start>t&&this.end<t+e||this.state===n&&("function"==typeof this.reset&&this.reset(),this.state=i),this.state=n,this.animation.apply(this,Array.prototype.slice.call(arguments))},e}()}.call(this);